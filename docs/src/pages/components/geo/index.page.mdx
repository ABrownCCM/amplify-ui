---
title: Geo
---

import { APICollection } from '@/components/APICollection';
import { Example } from '@/components/Example';
import { Feature } from '@/components/Feature';
import { Fragment } from '@/components/Fragment';
import { XStateInspector } from '@/components/XStateInspector';
import { Tabs, TabItem } from '@aws-amplify/ui-react';

Geo components are cool and do maps and stuff.

## AmplifyMap

The `AmplifyMap` component adds an interactive map to your application backed by [Amplify Geo APIs](https://docs.amplify.aws/lib/geo/getting-started/q/platform/js/)
and powered by [Amazon Location Service](https://aws.amazon.com/location/).

`AmplifyMap` is built on top of the open source library [react-map-gl](https://visgl.github.io/react-map-gl/) while using
[maplibre-gl-js](https://maplibre.org/maplibre-gl-js-docs/api/) as the map tile source.

### Quick Start

> Preqrequisite: [Create a Geo backend](https://docs.amplify.aws/lib/geo/getting-started/q/platform/js/)

You can import the `AmplifyMap` component and use it in your Amplify application without any additional configuration.

<Fragment platforms={['react']}>
  {({ platform }) => import(`./fragments/quick-start.${platform}.mdx`)}
</Fragment>

### API Reference

<APICollection
  items={[
    {
      defaultVal: "{ height: '100vh', position: 'relative', width: '100vw' }",
      description: 'CSS properties that apply to the map container.',
      prop: 'style',
      type: 'CSSProperties',
    },
    {
      description: 'A unique id attribute for the Map container.',
      prop: 'id',
      type: 'string',
    },
    {
      defaultVal: "'auto'",
      description: 'The default cursor type.',
      link: {
        href: 'https://developer.mozilla.org/en-US/docs/Web/CSS/cursor',
        isExternal: true,
      },
      prop: 'cursor',
      type: "Pick<React.CSSProperties, 'cursor'>",
    },
  ]}
/>

## Geocoder

`Geocoder` provides location search powered by [Amazon Location Service](https://aws.amazon.com/location/) for the `AmplifyMap` component, using the viewport as the proximity
for generating results. `Geocoder` is used as a child component of `AmplifyMap` for which it renders visual markers and information based on its location search results.

### Quick Start

You can import the `Geocoder` component and use it as a child of `AmplifyMap` without any additional configuration.

<Fragment platforms={['react']}>
  {({ platform }) => import(`./fragments/geocoder.${platform}.mdx`)}
</Fragment>

### Standalone Geocoder

`Geocoder` can also be used as a standalone component without `AmplifyMap`. As a standalone component, `Geocoder` provides search results based on an initial proximity. When
used as a standlone component, the `proximity` property with provided `latitude` and `longitude` properties is required.

<Fragment platforms={['react']}>
  {({ platform }) => import(`./fragments/standalone-geocoder.${platform}.mdx`)}
</Fragment>

### API Reference

<APICollection
  items={[
    {
      defaultVal: "{ height: '100vh', position: 'relative', width: '100vw' }",
      description: 'CSS properties that apply to the map container.',
      prop: 'style',
      type: 'CSSProperties',
    },
  ]}
/>

## Marker

The `Marker` component is used as a child of `AmplifyMap` to be rendered at a specified location. A default marker is used if no customization is used.

### Quick Start

`Marker` is used as a child component of `AmplifyMap` and requires `latitude` and `longitude` properties.

<Fragment platforms={['react']}>
  {({ platform }) => import(`./fragments/marker-quick-start.${platform}.mdx`)}
</Fragment>

### Moving Marker

A `Marker`'s `latitude` and `longitude` properties can be dynamic to create a moving marker. The marker's position will reflect changes in `latitude` and `longitude`.

<Fragment platforms={['react']}>
  {({ platform }) => import(`./fragments/marker-moving.${platform}.mdx`)}
</Fragment>

### Customization

A `Marker` can be rendered with child content to customize the appearance of the marker.

<Fragment platforms={['react']}>
  {({ platform }) =>
    import(`./fragments/marker-customization-child.${platform}.mdx`)
  }
</Fragment>

`Marker` supports additional basic customization through various properties. See the [API Reference for Marker](#api-reference-2).

### API Reference

<APICollection
  items={[
    {
      defaultVal: "{ height: '100vh', position: 'relative', width: '100vw' }",
      description: 'CSS properties that apply to the map container.',
      prop: 'style',
      type: 'CSSProperties',
    },
  ]}
/>

## Popup

The `Popup` component is used as a child of `AmplifyMap` to be rendered at a specified location. `Popup` content can be customized and the component can be associated
with other map elements like `Marker` using positioning, state, and click handlers.

### Quick Start

`Popup` is used as a child component of `AmplifyMap` and requires `latitude` and `longitude` properties. Children of `Popup` will be rendered as its content.

<Fragment platforms={['react']}>
  {({ platform }) => import(`./fragments/popup-quick-start.${platform}.mdx`)}
</Fragment>

## Types

## Configuration

`AmplifyMap` supports the configuration properties available to the [default map of react-map-gl](https://visgl.github.io/react-map-gl/docs/api-reference/map#properties).

## Controls

`AmplifyMap` can be used with various controls to enhance functionality.

### Geocoder (location search)

`Geocoder` provides location search powered by [Amazon Location Service](https://aws.amazon.com/location/) for the `AmplifyMap` component, using the viewport as the proximity
for generating results. `Geocoder` is used as a child component of `AmplifyMap` for which it renders visual markers and information based on its location search results.

<Fragment platforms={['react']}>
  {({ platform }) => import(`./fragments/geocoder.${platform}.mdx`)}
</Fragment>

`Geocoder` can also be used as a standalone component using initial proximity coordinates for generating results.

<Fragment platforms={['react']}>
  {({ platform }) => import(`./fragments/standalone-geocoder.${platform}.mdx`)}
</Fragment>

#### Configuration

`position (string?)` - Position on the map to which the control will be added.
Valid values are `'top-left'`, `'top-right'`, `'bottom-left'`, and `'bottom-right'`. Defaults to `'top-right'`.

<Fragment platforms={['react']}>
  {({ platform }) => import(`./fragments/geocoder-position.${platform}.mdx`)}
</Fragment>

`Geocoder` is built atop [maplibre-gl-geocoder](https://github.com/maplibre/maplibre-gl-geocoder) and supports the [options parameter values](https://github.com/maplibre/maplibre-gl-geocoder/blob/main/API.md#parameters) used by the library.

## Customization

Custom styling for `AmplifyMap` and any utilized controls can be achieved by passing a custom `style` property to the given component.

<Fragment platforms={['react']}>
  {({ platform }) => import(`./fragments/style-prop.${platform}.mdx`)}
</Fragment>

Additionally, you can override a component's `data-amplify` attribute.

<Fragment platforms={['react']}>
  {({ platform }) => import(`./fragments/override-class.${platform}.mdx`)}
</Fragment>
